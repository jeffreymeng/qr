<link rel="stylesheet" type="text/css" href="https://assets.jeffkmeng.com/bootstrap/3.3.6/css/bootstrap.min.css">
<style>.hidden{display:none;}</style>
<noscript>Javascript is required for this QR code widget to display.</noscript>
<div id="qrcode"></div>

		<div class="col-xs-8 col-sm-4 col-md-4 hidden">
			<div class="well well-sm">
				<div class="row">
					<div class="col-sm-4 col-md-4">
						<div id="qrcode-widget"></div>
					</div>
					<div class="col-sm-4 col-md-4" id="widgetData">


					</div>
				</div>
			</div>
		</div>


<script>
/* global QRious */
	function getQuery(name, url) {
		if (!url) url = window.location.href;
		name = name.replace(/[\[\]]/g, "\\$&");
		var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
			results = regex.exec(url);
		if (!results) return null;
		if (!results[2]) return '';
		return decodeURIComponent(results[2].replace(/\+/g, " "));
	}
	if (getQuery("data") === null || getQuery("data") === "") {
		document.getElementById("qrcode").innerHTML = "<h1>ERROR</h1><p>You did not specify the required parameter: data(the data of the qr code after being encoded with encodeURIComponent)</p>";
	}
	else {
		
		var img = new QRious({
			element: document.getElementById('qrcode'),
			value: decodeURIComponent(getQuery("data")),
			size: getQuery("size") || 4,
			foreground: "#" + (getQuery("foreground") || "000000"),
			background: "#" + (getQuery("background") || "FFFFFF"),
			level: getQuery("correction") || "H"
		});
		if (!getQuery("widget") || getQuery("widget") === "none") {
		document.getElementById("qrcode").appendChild(img);
		} else {
			
		document.getElementById("qrcode-widget").appendChild(img);
		}

	}
</script>
